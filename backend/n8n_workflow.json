{
    "name":  "Solar Rosette Agenda (Final Complete System)",
    "nodes":  [
                  {
                      "parameters":  {
                                         "httpMethod":  "POST",
                                         "path":  "appointments",
                                         "responseMode":  "responseNode",
                                         "options":  {

                                                     }
                                     },
                      "name":  "Webhook Create",
                      "type":  "n8n-nodes-base.webhook",
                      "typeVersion":  1,
                      "position":  [
                                       200,
                                       300
                                   ],
                      "webhookId":  "create-appt-webhook",
                      "id":  "webhook-create"
                  },
                  {
                      "parameters":  {
                                         "functionCode":  "const staticData = getWorkflowStaticData(\u0027global\u0027);\nif (!staticData.appointments) { staticData.appointments = []; }\nconst body = items[0].json.body;\n\n// CONFLICT DETECTION\nconst conflict = staticData.appointments.find(a =\u003e \n  a.dateStr == body.dateStr \u0026\u0026 \n  a.time == body.time \u0026\u0026\n  a.status != \u0027CANCELADA\u0027\n);\nif (conflict) {\n  return [{ json: { success: false, message: \u0027Lo sentimos, esta hora ya está ocupada por otro paciente.\u0027 } }];\n}\n\nconst newAppt = {\n  id: Date.now(),\n  patientName: body.patientName,\n  patientCedula: body.patientCedula,\n  dateStr: body.dateStr,\n  time: body.time,\n  type: body.type || \u0027Cita\u0027,\n  status: \u0027PENDIENTE\u0027,\n  color: \u0027bg-orange\u0027\n};\nstaticData.appointments.push(newAppt);\nreturn [{ json: { success: true, appointment: newAppt } }];"
                                     },
                      "name":  "Create Logic",
                      "type":  "n8n-nodes-base.function",
                      "typeVersion":  1,
                      "position":  [
                                       450,
                                       300
                                   ],
                      "id":  "create-logic"
                  },
                  {
                      "parameters":  {
                                         "options":  {

                                                     }
                                     },
                      "name":  "Respond Create",
                      "type":  "n8n-nodes-base.respondToWebhook",
                      "typeVersion":  1,
                      "position":  [
                                       700,
                                       300
                                   ],
                      "id":  "respond-create"
                  },
                  {
                      "parameters":  {
                                         "httpMethod":  "GET",
                                         "path":  "appointments",
                                         "responseMode":  "responseNode",
                                         "options":  {

                                                     }
                                     },
                      "name":  "Webhook Get",
                      "type":  "n8n-nodes-base.webhook",
                      "typeVersion":  1,
                      "position":  [
                                       200,
                                       500
                                   ],
                      "webhookId":  "get-appts-webhook",
                      "id":  "webhook-get"
                  },
                  {
                      "parameters":  {
                                         "functionCode":  "const staticData = getWorkflowStaticData(\u0027global\u0027);\nconst allAppts = staticData.appointments || [];\nconst query = items[0].json.query;\nconst userCedula = query.cedula;\nconst userRole = query.role;\n\nlet myAppts = [];\n// DATA ISOLATION LOGIC\nif (userRole === \u0027professional\u0027 || userRole === \u0027admin\u0027) {\n    // Admin/Pro see EVERYTHING\n    myAppts = allAppts;\n} else {\n    // Patients see ONLY their own based on CEDULA match\n    // Ensure loose comparison for string/number match\n    if (!userCedula) {\n        myAppts = []; // No cedula? No data.\n    } else {\n        myAppts = allAppts.filter(a =\u003e a.patientCedula == userCedula);\n    }\n}\nreturn [{ json: { success: true, appointments: myAppts } }];"
                                     },
                      "name":  "Get Logic (Filtered)",
                      "type":  "n8n-nodes-base.function",
                      "typeVersion":  1,
                      "position":  [
                                       450,
                                       500
                                   ],
                      "id":  "get-logic"
                  },
                  {
                      "parameters":  {
                                         "options":  {

                                                     }
                                     },
                      "name":  "Respond Get",
                      "type":  "n8n-nodes-base.respondToWebhook",
                      "typeVersion":  1,
                      "position":  [
                                       700,
                                       500
                                   ],
                      "id":  "respond-get"
                  },
                  {
                      "parameters":  {
                                         "httpMethod":  "DELETE",
                                         "path":  "appointments",
                                         "responseMode":  "responseNode",
                                         "options":  {

                                                     }
                                     },
                      "name":  "Webhook Delete",
                      "type":  "n8n-nodes-base.webhook",
                      "typeVersion":  1,
                      "position":  [
                                       200,
                                       700
                                   ],
                      "webhookId":  "delete-webhook",
                      "id":  "webhook-delete"
                  },
                  {
                      "parameters":  {
                                         "functionCode":  "const staticData = getWorkflowStaticData(\u0027global\u0027);\n\n// Ensure appointments array matches\nif (!staticData.appointments) { staticData.appointments = []; }\n\n// Handle Body or Query parsing\nconst body = items[0].json.body || items[0].json.query || {};\nconst idToDelete = body.id;\n\nconst initialLength = staticData.appointments.length;\n\n// Force String comparison to handle ID type mismatches\nstaticData.appointments = staticData.appointments.filter(a =\u003e String(a.id) !== String(idToDelete));\n\nconst wasDeleted = initialLength \u003e staticData.appointments.length;\n\n// Return success:true regardless of deletion count to avoid UI errors, \n// but send \u0027deleted\u0027 status for debug.\nreturn [{ json: { success: true, deleted: wasDeleted } }];"
                                     },
                      "name":  "Delete Logic",
                      "type":  "n8n-nodes-base.function",
                      "typeVersion":  1,
                      "position":  [
                                       450,
                                       700
                                   ],
                      "id":  "delete-logic"
                  },
                  {
                      "parameters":  {
                                         "options":  {

                                                     }
                                     },
                      "name":  "Respond Delete",
                      "type":  "n8n-nodes-base.respondToWebhook",
                      "typeVersion":  1,
                      "position":  [
                                       700,
                                       700
                                   ],
                      "id":  "respond-delete"
                  },
                  {
                      "parameters":  {
                                         "httpMethod":  "PUT",
                                         "path":  "appointments",
                                         "responseMode":  "responseNode",
                                         "options":  {

                                                     }
                                     },
                      "name":  "Webhook Update",
                      "type":  "n8n-nodes-base.webhook",
                      "typeVersion":  1,
                      "position":  [
                                       200,
                                       900
                                   ],
                      "webhookId":  "update-webhook",
                      "id":  "webhook-update"
                  },
                  {
                      "parameters":  {
                                         "functionCode":  "const staticData = getWorkflowStaticData(\u0027global\u0027);\n\nif (!staticData.appointments) { staticData.appointments = []; }\n\nconst body = items[0].json.body || {};\nconst idToUpdate = body.id;\nconst newStatus = body.status;\nconst newColor = body.color;\n\n// Find and Update\nconst matching = staticData.appointments.find(a =\u003e String(a.id) === String(idToUpdate));\n\nif (matching) {\n    if(newStatus) matching.status = newStatus;\n    if(newColor) matching.color = newColor;\n    return [{ json: { success: true, appointment: matching } }];\n}\n\nreturn [{ json: { success: false, message: \u0027Cita no encontrada\u0027 } }];"
                                     },
                      "name":  "Update Logic",
                      "type":  "n8n-nodes-base.function",
                      "typeVersion":  1,
                      "position":  [
                                       450,
                                       900
                                   ],
                      "id":  "update-logic"
                  },
                  {
                      "parameters":  {
                                         "options":  {

                                                     }
                                     },
                      "name":  "Respond Update",
                      "type":  "n8n-nodes-base.respondToWebhook",
                      "typeVersion":  1,
                      "position":  [
                                       700,
                                       900
                                   ],
                      "id":  "respond-update"
                  },
                  {
                      "parameters":  {
                                         "httpMethod":  "POST",
                                         "path":  "register",
                                         "responseMode":  "responseNode",
                                         "options":  {

                                                     }
                                     },
                      "name":  "Webhook Register",
                      "type":  "n8n-nodes-base.webhook",
                      "typeVersion":  1,
                      "position":  [
                                       200,
                                       1300
                                   ],
                      "webhookId":  "register-webhook",
                      "id":  "webhook-register"
                  },
                  {
                      "parameters":  {
                                         "functionCode":  "const staticData = getWorkflowStaticData(\u0027global\u0027);\\nif (!staticData.users) { staticData.users = []; }\\n\\nconst body = items[0].json.body;\\n\\n// Create User Object WITH PHONE FIELD\\nconst newUser = {\\n  id: Date.now(),\\n  name: body.name,\\n  email: body.email,\\n  cedula: body.cedula,\\n  phone: body.phone || \u0027\u0027,\\n  role: body.role || \u0027patient\u0027,\\n  type: body.type || \u0027\u0027,\\n  registeredAt: new Date().toISOString()\\n};\\n\\nstaticData.users.push(newUser);\\n\\nreturn [{ json: { success: true, user: newUser } }];"
                                     },
                      "name":  "Register Logic",
                      "type":  "n8n-nodes-base.function",
                      "typeVersion":  1,
                      "position":  [
                                       450,
                                       1300
                                   ],
                      "id":  "register-logic"
                  },
                  {
                      "parameters":  {
                                         "options":  {

                                                     }
                                     },
                      "name":  "Respond Register",
                      "type":  "n8n-nodes-base.respondToWebhook",
                      "typeVersion":  1,
                      "position":  [
                                       700,
                                       1300
                                   ],
                      "id":  "respond-register"
                  },
                  {
                      "parameters":  {
                                         "httpMethod":  "GET",
                                         "path":  "agenda-view",
                                         "responseMode":  "responseNode",
                                         "options":  {

                                                     }
                                     },
                      "name":  "Webhook View DB",
                      "type":  "n8n-nodes-base.webhook",
                      "typeVersion":  1,
                      "position":  [
                                       200,
                                       1100
                                   ],
                      "webhookId":  "view-db-webhook",
                      "id":  "webhook-view-db"
                  },
                  {
                      "parameters":  {
                                         "functionCode":  "const staticData = getWorkflowStaticData(\u0027global\u0027);\nconst users = staticData.users || [];\n\nlet html = `\u003chtml\u003e\u003chead\u003e\u003cstyle\u003ebody{font-family:sans-serif;padding:20px}table{border-collapse:collapse;width:100%}th,td{border:1px solid #ccc;padding:8px}th{background:#eee}\u003c/style\u003e\u003c/head\u003e\u003cbody\u003e\u003ch1\u003eUsuarios Registrados\u003c/h1\u003e\u003ctable\u003e\u003ctr\u003e\u003cth\u003eID\u003c/th\u003e\u003cth\u003eNombre\u003c/th\u003e\u003cth\u003eEmail\u003c/th\u003e\u003cth\u003eCedula\u003c/th\u003e\u003cth\u003eRol (Tipo)\u003c/th\u003e\u003c/tr\u003e`;\n\nusers.forEach(u =\u003e {\n  html += `\u003ctr\u003e\u003ctd\u003e${u.id}\u003c/td\u003e\u003ctd\u003e${u.name}\u003c/td\u003e\u003ctd\u003e${u.email}\u003c/td\u003e\u003ctd\u003e${u.cedula}\u003c/td\u003e\u003ctd\u003e\u003cb\u003e${u.role}\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e`;\n});\n\nhtml += `\u003c/table\u003e\u003c/body\u003e\u003c/html\u003e`;\n\nreturn [{ json: { html } }];"
                                     },
                      "name":  "Generate User Table HTML",
                      "type":  "n8n-nodes-base.function",
                      "typeVersion":  1,
                      "position":  [
                                       450,
                                       1100
                                   ],
                      "id":  "generate-html-users"
                  },
                  {
                      "parameters":  {
                                         "respondWith":  "text",
                                         "responseBody":  "={{ $json.html }}",
                                         "options":  {
                                                         "responseContentType":  "text/html"
                                                     }
                                     },
                      "name":  "Respond HTML",
                      "type":  "n8n-nodes-base.respondToWebhook",
                      "typeVersion":  1,
                      "position":  [
                                       700,
                                       1100
                                   ],
                      "id":  "respond-html"
                  },
                  {
                      "parameters":  {
                                         "httpMethod":  "POST",
                                         "path":  "login",
                                         "responseMode":  "responseNode",
                                         "options":  {

                                                     }
                                     },
                      "name":  "Webhook Login",
                      "type":  "n8n-nodes-base.webhook",
                      "typeVersion":  1,
                      "position":  [
                                       200,
                                       1500
                                   ],
                      "webhookId":  "login-webhook",
                      "id":  "webhook-login"
                  },
                  {
                      "parameters":  {
                                         "functionCode":  "const staticData = getWorkflowStaticData(\u0027global\u0027);\nconst users = staticData.users || [];\n\nconst body = items[0].json.body;\nconst name = body.name;\nconst cedula = body.cedula;\nconst role = body.role;\n\n// FIND USER\n// Loose comparison or string normalization\nconst user = users.find(u =\u003e \n    (u.cedula == cedula || u.cedula === cedula) \u0026\u0026 \n    (role ? u.role === role : true)\n);\n\nif (user) {\n    return [{ json: { success: true, user: user } }];\n}\n\nreturn [{ json: { success: false, message: \u0027Usuario no encontrado\u0027 } }];"
                                     },
                      "name":  "Login Logic",
                      "type":  "n8n-nodes-base.function",
                      "typeVersion":  1,
                      "position":  [
                                       450,
                                       1500
                                   ],
                      "id":  "login-logic"
                  },
                  {
                      "parameters":  {
                                         "options":  {

                                                     }
                                     },
                      "name":  "Respond Login",
                      "type":  "n8n-nodes-base.respondToWebhook",
                      "typeVersion":  1,
                      "position":  [
                                       700,
                                       1500
                                   ],
                      "id":  "respond-login"
                  },
                  {
                      "parameters":  {
                                         "httpMethod":  "DELETE",
                                         "path":  "users",
                                         "responseMode":  "responseNode",
                                         "options":  {

                                                     }
                                     },
                      "name":  "Webhook Delete Users",
                      "type":  "n8n-nodes-base.webhook",
                      "typeVersion":  1,
                      "position":  [
                                       200,
                                       1700
                                   ],
                      "webhookId":  "delete-users-webhook",
                      "id":  "webhook-delete-users"
                  },
                  {
                      "parameters":  {
                                         "functionCode":  "const staticData = getWorkflowStaticData(\u0027global\u0027);\nif (!staticData.users) return [{ json: { success: true, deleted: 0 } }];\n\nconst keepCedula = \u00271000595131\u0027;\nconst initialCount = staticData.users.length;\n\n// Filter to keep ONLY the specific professional and ANY patients (optional? User said \u0027remove all professional accounts... remove them\u0027).\n// User said: \"elimines todas las cuentas profesionales y deja únicamente la de Brayan... de los demás bórramelos\"\n// Assuming he means purge other professionals or ALL other users? \n// \"todos los demas bórramelos\" usually means everyone else.\n// But let\u0027s be safe and keep patients if he complicates. No, he said \"borramelos\".\n// I will keep ONLY Brayan.\n\nstaticData.users = staticData.users.filter(u =\u003e String(u.cedula) === keepCedula);\n\nconst deletedCount = initialCount - staticData.users.length;\nreturn [{ json: { success: true, deleted: deletedCount, remaining: staticData.users.length } }];"
                                     },
                      "name":  "Delete Users Logic",
                      "type":  "n8n-nodes-base.function",
                      "typeVersion":  1,
                      "position":  [
                                       450,
                                       1700
                                   ],
                      "id":  "delete-users-logic"
                  },
                  {
                      "parameters":  {
                                         "options":  {

                                                     }
                                     },
                      "name":  "Respond Delete Users",
                      "type":  "n8n-nodes-base.respondToWebhook",
                      "typeVersion":  1,
                      "position":  [
                                       700,
                                       1700
                                   ],
                      "id":  "respond-delete-users"
                  },
                  {
                      "parameters":  {
                                         "httpMethod":  "PUT",
                                         "path":  "users",
                                         "responseMode":  "responseNode",
                                         "options":  {

                                                     }
                                     },
                      "name":  "Webhook Update User",
                      "type":  "n8n-nodes-base.webhook",
                      "typeVersion":  1,
                      "position":  [
                                       200,
                                       1900
                                   ],
                      "webhookId":  "update-user-webhook",
                      "id":  "webhook-update-user"
                  },
                  {
                      "parameters":  {
                                         "functionCode":  "const staticData = getWorkflowStaticData(\u0027global\u0027);\nconst users = staticData.users || [];\n\nconst body = items[0].json.body || {};\nconst cedula = body.cedula;\nconst notes = body.notes;\n\nif (!cedula) return [{ json: { success: false, message: \u0027Cedula requerida\u0027 } }];\n\nconst user = users.find(u =\u003e String(u.cedula) === String(cedula));\n\nif (user) {\n    if (notes !== undefined) user.notes = notes;\n    return [{ json: { success: true, user: user } }];\n}\n\nreturn [{ json: { success: false, message: \u0027Usuario no encontrado\u0027 } }];"
                                     },
                      "name":  "Update User Logic",
                      "type":  "n8n-nodes-base.function",
                      "typeVersion":  1,
                      "position":  [
                                       450,
                                       1900
                                   ],
                      "id":  "update-user-logic"
                  },
                  {
                      "parameters":  {
                                         "options":  {

                                                     }
                                     },
                      "name":  "Respond Update User",
                      "type":  "n8n-nodes-base.respondToWebhook",
                      "typeVersion":  1,
                      "position":  [
                                       700,
                                       1900
                                   ],
                      "id":  "respond-update-user"
                  },
                  {
                      "parameters":  {
                                         "httpMethod":  "GET",
                                         "path":  "users",
                                         "responseMode":  "responseNode",
                                         "options":  {

                                                     }
                                     },
                      "name":  "Webhook Get User",
                      "type":  "n8n-nodes-base.webhook",
                      "typeVersion":  1,
                      "position":  [
                                       200,
                                       2100
                                   ],
                      "webhookId":  "get-user-webhook",
                      "id":  "webhook-get-user"
                  },
                  {
                      "parameters":  {
                                         "functionCode":  "const staticData = getWorkflowStaticData(\u0027global\u0027);\nconst users = staticData.users || [];\nconst cedula = items[0].json.query.cedula;\n\nif (!cedula) return [{ json: { users: [] } }];\n\nconst user = users.find(u =\u003e String(u.cedula) === String(cedula));\nreturn [{ json: { users: user ? [user] : [] } }];"
                                     },
                      "name":  "Get User Logic",
                      "type":  "n8n-nodes-base.function",
                      "typeVersion":  1,
                      "position":  [
                                       450,
                                       2100
                                   ],
                      "id":  "get-user-logic"
                  },
                  {
                      "parameters":  {
                                         "options":  {

                                                     }
                                     },
                      "name":  "Respond Get User",
                      "type":  "n8n-nodes-base.respondToWebhook",
                      "typeVersion":  1,
                      "position":  [
                                       700,
                                       2100
                                   ],
                      "id":  "respond-get-user"
                  },
                  {
                      "parameters":  {
                                         "httpMethod":  "POST",
                                         "path":  "ai-insights",
                                         "responseMode":  "responseNode",
                                         "options":  {

                                                     }
                                     },
                      "name":  "Webhook AI",
                      "type":  "n8n-nodes-base.webhook",
                      "typeVersion":  1,
                      "position":  [
                                       200,
                                       2300
                                   ],
                      "webhookId":  "ai-insights-webhook",
                      "id":  "webhook-ai"
                  },
                  {
                      "parameters":  {
                                         "functionCode":  "const appts = items[0].json.appointments || [];\nconst now = new Date().toLocaleString();\nconst prompt = `Act as an expert scheduling assistant. Current time: ${now}. Analyze these appointments: ${JSON.stringify(appts)}. Tasks: 1. Summarize schedule status. 2. Identify conflicts/gaps. 3. Suggest improvements. 4. Speak in Spanish. 5. Keep it concise.`;\nreturn [{ json: { prompt } }];"
                                     },
                      "name":  "Prepare Prompts",
                      "type":  "n8n-nodes-base.function",
                      "typeVersion":  1,
                      "position":  [
                                       400,
                                       2300
                                   ],
                      "id":  "prepare-prompts"
                  },
                  {
                      "parameters":  {
                                         "url":  "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyCsJQJuug8ugm7vEmoiOb8_tG1o9B_QEjw",
                                         "method":  "POST",
                                         "jsonParameters":  true,
                                         "options":  {

                                                     },
                                         "bodyParametersJson":  "{ \"contents\": [{ \"parts\": [{ \"text\": \"={{$json.prompt}}\" }] }] }"
                                     },
                      "name":  "Gemini API",
                      "type":  "n8n-nodes-base.httpRequest",
                      "typeVersion":  1,
                      "position":  [
                                       600,
                                       2300
                                   ],
                      "id":  "gemini-api"
                  },
                  {
                      "parameters":  {
                                         "functionCode":  "const text = items[0].json.candidates?.[0]?.content?.parts?.[0]?.text || \u0027No suggestion.\u0027;\nreturn [{ json: { suggestion: text } }];"
                                     },
                      "name":  "Format Response",
                      "type":  "n8n-nodes-base.function",
                      "typeVersion":  1,
                      "position":  [
                                       800,
                                       2300
                                   ],
                      "id":  "format-response"
                  },
                  {
                      "parameters":  {
                                         "options":  {

                                                     }
                                     },
                      "name":  "Respond AI",
                      "type":  "n8n-nodes-base.respondToWebhook",
                      "typeVersion":  1,
                      "position":  [
                                       1000,
                                       2300
                                   ],
                      "id":  "respond-ai"
                  }
              ],
    "connections":  {
                        "Webhook Create":  {
                                               "main":  [
                                                            [
                                                                {
                                                                    "node":  "Create Logic",
                                                                    "type":  "main",
                                                                    "index":  0
                                                                }
                                                            ]
                                                        ]
                                           },
                        "Create Logic":  {
                                             "main":  [
                                                          [
                                                              {
                                                                  "node":  "Respond Create",
                                                                  "type":  "main",
                                                                  "index":  0
                                                              }
                                                          ]
                                                      ]
                                         },
                        "Webhook Get":  {
                                            "main":  [
                                                         [
                                                             {
                                                                 "node":  "Get Logic (Filtered)",
                                                                 "type":  "main",
                                                                 "index":  0
                                                             }
                                                         ]
                                                     ]
                                        },
                        "Get Logic (Filtered)":  {
                                                     "main":  [
                                                                  [
                                                                      {
                                                                          "node":  "Respond Get",
                                                                          "type":  "main",
                                                                          "index":  0
                                                                      }
                                                                  ]
                                                              ]
                                                 },
                        "Webhook Delete":  {
                                               "main":  [
                                                            [
                                                                {
                                                                    "node":  "Delete Logic",
                                                                    "type":  "main",
                                                                    "index":  0
                                                                }
                                                            ]
                                                        ]
                                           },
                        "Delete Logic":  {
                                             "main":  [
                                                          [
                                                              {
                                                                  "node":  "Respond Delete",
                                                                  "type":  "main",
                                                                  "index":  0
                                                              }
                                                          ]
                                                      ]
                                         },
                        "Webhook Update":  {
                                               "main":  [
                                                            [
                                                                {
                                                                    "node":  "Update Logic",
                                                                    "type":  "main",
                                                                    "index":  0
                                                                }
                                                            ]
                                                        ]
                                           },
                        "Update Logic":  {
                                             "main":  [
                                                          [
                                                              {
                                                                  "node":  "Respond Update",
                                                                  "type":  "main",
                                                                  "index":  0
                                                              }
                                                          ]
                                                      ]
                                         },
                        "Webhook Register":  {
                                                 "main":  [
                                                              [
                                                                  {
                                                                      "node":  "Register Logic",
                                                                      "type":  "main",
                                                                      "index":  0
                                                                  }
                                                              ]
                                                          ]
                                             },
                        "Register Logic":  {
                                               "main":  [
                                                            [
                                                                {
                                                                    "node":  "Respond Register",
                                                                    "type":  "main",
                                                                    "index":  0
                                                                }
                                                            ]
                                                        ]
                                           },
                        "Webhook View DB":  {
                                                "main":  [
                                                             [
                                                                 {
                                                                     "node":  "Generate User Table HTML",
                                                                     "type":  "main",
                                                                     "index":  0
                                                                 }
                                                             ]
                                                         ]
                                            },
                        "Generate User Table HTML":  {
                                                         "main":  [
                                                                      [
                                                                          {
                                                                              "node":  "Respond HTML",
                                                                              "type":  "main",
                                                                              "index":  0
                                                                          }
                                                                      ]
                                                                  ]
                                                     },
                        "Webhook Login":  {
                                              "main":  [
                                                           [
                                                               {
                                                                   "node":  "Login Logic",
                                                                   "type":  "main",
                                                                   "index":  0
                                                               }
                                                           ]
                                                       ]
                                          },
                        "Login Logic":  {
                                            "main":  [
                                                         [
                                                             {
                                                                 "node":  "Respond Login",
                                                                 "type":  "main",
                                                                 "index":  0
                                                             }
                                                         ]
                                                     ]
                                        },
                        "Webhook Delete Users":  {
                                                     "main":  [
                                                                  [
                                                                      {
                                                                          "node":  "Delete Users Logic",
                                                                          "type":  "main",
                                                                          "index":  0
                                                                      }
                                                                  ]
                                                              ]
                                                 },
                        "Delete Users Logic":  {
                                                   "main":  [
                                                                [
                                                                    {
                                                                        "node":  "Respond Delete Users",
                                                                        "type":  "main",
                                                                        "index":  0
                                                                    }
                                                                ]
                                                            ]
                                               },
                        "Webhook Update User":  {
                                                    "main":  [
                                                                 [
                                                                     {
                                                                         "node":  "Update User Logic",
                                                                         "type":  "main",
                                                                         "index":  0
                                                                     }
                                                                 ]
                                                             ]
                                                },
                        "Update User Logic":  {
                                                  "main":  [
                                                               [
                                                                   {
                                                                       "node":  "Respond Update User",
                                                                       "type":  "main",
                                                                       "index":  0
                                                                   }
                                                               ]
                                                           ]
                                              },
                        "Webhook Get User":  {
                                                 "main":  [
                                                              [
                                                                  {
                                                                      "node":  "Get User Logic",
                                                                      "type":  "main",
                                                                      "index":  0
                                                                  }
                                                              ]
                                                          ]
                                             },
                        "Get User Logic":  {
                                               "main":  [
                                                            [
                                                                {
                                                                    "node":  "Respond Get User",
                                                                    "type":  "main",
                                                                    "index":  0
                                                                }
                                                            ]
                                                        ]
                                           },
                        "Webhook AI":  {
                                           "main":  [
                                                        [
                                                            {
                                                                "node":  "Prepare Prompts",
                                                                "type":  "main",
                                                                "index":  0
                                                            }
                                                        ]
                                                    ]
                                       },
                        "Prepare Prompts":  {
                                                "main":  [
                                                             [
                                                                 {
                                                                     "node":  "Gemini API",
                                                                     "type":  "main",
                                                                     "index":  0
                                                                 }
                                                             ]
                                                         ]
                                            },
                        "Gemini API":  {
                                           "main":  [
                                                        [
                                                            {
                                                                "node":  "Format Response",
                                                                "type":  "main",
                                                                "index":  0
                                                            }
                                                        ]
                                                    ]
                                       },
                        "Format Response":  {
                                                "main":  [
                                                             [
                                                                 {
                                                                     "node":  "Respond AI",
                                                                     "type":  "main",
                                                                     "index":  0
                                                                 }
                                                             ]
                                                         ]
                                            }
                    }
}
